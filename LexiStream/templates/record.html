{% extends "base.html" %}

{% block title %}Record - LexiStream{% endblock %}

{% block content %}
<div class="record-container">
    <h1 class="page-title"><i class="fas fa-microphone"></i> Speech Recording Hub</h1>
    
    <div class="record-card">
        <div class="recorder-section">
            <div class="recorder-controls">
                <button id="startRecord" class="btn btn-primary btn-large">
                    <i class="fas fa-microphone"></i> Start Recording
                </button>
                <button id="stopRecord" class="btn btn-danger btn-large" disabled>
                    <i class="fas fa-stop"></i> Stop Recording
                </button>
            </div>
            
            <div class="recorder-status">
                <div id="recordingStatus" class="status-indicator">
                    <i class="fas fa-circle"></i> Ready to record
                </div>
                <div id="timer" class="timer">00:00</div>
            </div>

            <audio id="audioPlayback" controls style="display: none; width: 100%; margin-top: 20px;"></audio>
        </div>

        <form id="recordForm" method="POST" action="{{ url_for('record') }}" enctype="multipart/form-data" style="display: none;">
            <input type="file" id="audioFile" name="audio" accept="audio/*" required>
            <input type="hidden" id="durationInput" name="duration">
            <button type="submit" class="btn btn-success">Save Recording</button>
        </form>
    </div>

    <div class="tips-section">
        <h3><i class="fas fa-lightbulb"></i> Recording Tips</h3>
        <ul>
            <li>Find a quiet environment to minimize background noise</li>
            <li>Speak clearly and at a comfortable pace</li>
            <li>Hold the microphone at a consistent distance</li>
            <li>Practice reading from the lesson materials for best results</li>
        </ul>
    </div>
</div>

<script src="{{ url_for('static', filename='js/recorder.js') }}"></script>
{% endblock %}
