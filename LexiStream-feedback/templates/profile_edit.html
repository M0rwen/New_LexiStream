{% extends "base.html" %}

{% block title %}Edit Profile - LexiStream{% endblock %}

{% block content %}
<div class="card" style="max-width: 800px; margin: 0 auto;">
    <div class="card-header">
        <h2 class="card-title"><i class="fas fa-user-cog"></i> Edit Profile</h2>
    </div>

    <form method="POST" action="{{ url_for('edit_profile') }}" enctype="multipart/form-data">
        <div class="form-group">
            <label for="display_name">Display Name</label>
            <input type="text" id="display_name" name="display_name"
                   value="{{ user.display_name or '' }}" maxlength="120"
                   placeholder="Name shown on your profile (optional)">
            <span class="form-hint">Max 120 characters. Defaults to your username if left empty.</span>
        </div>

        <div class="form-group">
            <label for="bio">Bio</label>
            <textarea id="bio" name="bio" rows="4"
                      placeholder="Tell others about your goals, interests, or learning journey...">{{ user.bio or '' }}</textarea>
        </div>

        <div class="form-group">
            <label for="location">Location</label>
            <input type="text" id="location" name="location"
                   value="{{ user.location or '' }}" maxlength="120"
                   placeholder="City, country, or institution (optional)">
        </div>

        <div class="form-group">
            <label for="website">Website / Portfolio</label>
            <input type="url" id="website" name="website"
                   value="{{ user.website or '' }}" maxlength="255"
                   placeholder="https://example.com (optional)">
        </div>

        <div class="form-group">
            <label for="avatar_url">Avatar Image URL</label>
            <input type="url" id="avatar_url" name="avatar_url"
                   value="{{ user.avatar_url or '' }}" maxlength="255"
                   placeholder="Paste a direct image URL (optional)">
            <span class="form-hint">Optional: direct link to a PNG/JPEG hosted online.</span>
        </div>

        <div class="form-group">
            <label for="avatar_file">Or Upload Avatar Image</label>
            <input type="file" id="avatar_file" name="avatar_file" accept="image/*">
            <span class="form-hint">Optional: upload an image file (PNG, JPG, GIF, WEBP).</span>
        </div>

        <div style="display: flex; gap: 1rem; margin-top: 1.5rem;">
            <button type="submit" class="btn btn-primary">
                <i class="fas fa-save"></i> Save Changes
            </button>
            <a href="{{ url_for('profile') }}" class="btn btn-secondary">
                <i class="fas fa-times"></i> Cancel
            </a>
        </div>
    </form>
</div>
{% endblock %}

